<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Validation</title>
    <link rel="stylesheet" href="assign2.css" />
    <script>
      function validateName() {
        name = document.getElementById("name").value;
        if (name == "") {
          alert("Name is required");
        } else if (name.length < 3) {
          alert("Name must be at least 3 characters");
        } else {
          alert("Name is valid");
        }
      }

      function validateEmail() {
        email = document.getElementById("email").value;
        if (email == "") {
          alert("Email is required");
        } else {
          at_pos = email.indexOf("@");
          dot_pos = email.lastIndexOf(".");
          if (
            at_pos < 1 ||
            dot_pos < at_pos + 2 ||
            dot_pos + 2 >= email.length
          ) {
            alert("Not a valid e-mail address");
          }
        }
      }

      function validatePhone() {
        phone = document.getElementById("phone").value;
        if (phone == "") {
          alert("Phone is required");
        } else if (phone.length < 10 && /^\d*$/.test(phone) == false) {
          alert("Phone must be at least 10 digits and should be digit");
        } else {
          alert("Phone is valid");
        }
      }

      function validateMessage() {
        message = document.getElementById("message").value;
        if (message == "") {
          alert("Message is required");
        } else if (message.length < 10) {
          alert("Message must be at least 10 characters");
        } else if (message.length > 100) {
          alert("Message must be less than 100 characters");
        } else {
          setTimeout(alert("Message is valid"), 200);
        }
      }

      function validateRoll() {
        roll = document.getElementById("roll").value;
        if (roll == "") {
          alert("Roll is required");
        } else if (/^[0-9]+$/.test(roll) == false) {
          alert("Roll should be digit");
        } else {
          alert("Roll is valid");
        }
      }

      function validatePass() {
        pass = document.getElementById("pass").value;
        if (pass == "") {
          alert("Password is required");
        } else if (pass.length < 8) {
          alert("Password must be at least 8 characters");
        } else {
          alert("Password is valid");
        }
      }

      function confirmPass() {
        pass = document.getElementById("pass").value;
        confirm = document.getElementById("pass1").value;
        if (pass != confirm) {
          alert("Password does not match");
        } else {
          alert("Password matches");
        }
      }

      //will be used to validate the form
      function validateForm() {
        validateName();
        validateEmail();
        validatePhone();
        validateMessage();
        validateRoll();
      }
    </script>
  </head>
  <body>
    <h2>Form Validation</h2>
    <form action="#" method="post">
      <label for="name">Name:</label>
      <input type="text" name="name" id="name" onblur="validateName()" />
      <label for="email">Email:</label>
      <input type="email" name="email" id="email" />
      <label for="roll">Roll No:</label>
      <input type="text" id="roll" />
      <label for="pass">Password:</label>
      <input type="password" name="" id="pa" onblur="validatePass()" />
      <label for="pass1">Confirm Password:</label>
      <input type="password" name="cp" id="p2" onblur="confirmPass()" />
      <label for="phone">Phone:</label>
      <input type="tel" name="phone" id="phone" />
      <label for="message">Message:</label>
      <textarea
        name="message"
        id="message"
        cols="30"
        rows="10"
        onblur="validateMessage()"
      ></textarea>
      <input type="button" value="Submit" onclick="validateForm()" />
    </form>
  </body>
</html>
